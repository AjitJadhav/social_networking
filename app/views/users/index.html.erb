<%= render 'home/header' %>
</br></br></br></br>
<p id="notice"><%= notice %></p>
    
    <%= label_tag(:search) %>
    <%= text_field_tag(:search,'',size: 20, placeholder: 'Search your friend', :id => 'keyword') %>
    <button id='search' > Search </button>
    
    
<h2>People you may know.</h2>

  
<div id="searched_items">
  <%= render :partial => 'friends', :locals => { :users => @users } %>
</div>


<script type="text/javascript" charset="UTF-8">  
  $(document).on("click", "#search", function(){
    var search_keyword = $("#keyword").val();
    $.ajax({
      url: "/search/"+search_keyword, type: "POST"
    });
  });
  
  $(document).on("keydown", "#keyword", function(){
      if(event.keyCode == 13 || ($.trim($("#keyword").val()).length) >= 2){
        var search_keyword = $("#keyword").val();
        $.ajax({
          type: 'POST',
          url: "/search/"+search_keyword
        });
      }
    
  });
</script>
